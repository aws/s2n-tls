# Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License"). You may not use
# this file except in compliance with the License. A copy of the License is
# located at
#
# http://aws.amazon.com/apache2.0/
#
# or in the "license" file accompanying this file. This file is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
# implied. See the License for the specific language governing permissions and
# limitations under the License.
{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Resources": {
        "s2n": {
            "Properties": {
                "Artifacts": {
                    "Type": "NO_ARTIFACTS"
                },
                "Environment": {
                    "ComputeType": "BUILD_GENERAL1_SMALL",
                    "EnvironmentVariables": [
                        {
                            "Name": "distro",
                            "Value": "amazonlinux"
                        },
                        {
                            "Name": "release",
                            "Value": "2.0"
                        },
                        {
                            "Name": "openssl_ver",
                            "Value": "OpenSSL_1_1_0-stable"
                        },
                        {
                            "Name": "gcc_version",
                            "Value": "gcc-6"
                        }
                    ],
                    "Image": "024603541914.dkr.ecr.us-west-2.amazonaws.com/linux-docker-images:amazonlinux_2.0_OpenSSL_1_1_0-stable",
                    "Type": "LINUX_CONTAINER"
                },
                "Name": "s2n_amazonlinux_20_OpenSSL_1_1_0-stable",
                "ServiceRole": "s2nCodeBuildRole",
                "Source": {
                    "Location": "https://github.com/awslabs/s2n.git",
                    "Type": "GITHUB"
                }
            },
            "Type": "AWS::CodeBuild::Project"
        }
    }
}