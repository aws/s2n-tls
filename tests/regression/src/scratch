struct RawProfile {
    test_name: String,
    annotated_profile: Option<AnnotatedProfile>,
}

impl RawProfile {
    fn new(test_name: &str) -> Self {
        RawProfile {
            test_name: test_name.to_string(),
            annotated_profile: None,
        }
    }

    fn set_annotated_profile(&mut self, annotated_profile: AnnotatedProfile) {
        self.annotated_profile = Some(annotated_profile);
    }
}

fn run_test_mode(mode: RegressionTestMode, test_name: &str) {
    match mode {
        RegressionTestMode::Valgrind => {
            let mut raw_profile = RawProfile::new(test_name);
            let annotated_profile = AnnotatedProfile::new(&raw_profile);
            raw_profile.set_annotated_profile(annotated_profile);
        }
    }
}