sudo: required
language: c
cache:
    directories:
        # Cache test dependencies that would normally be re-compiled for every build.
        # This directory is unique for each entry of the build matrix per:
        # https://docs.travis-ci.com/user/caching/#Caches-and-build-matrices
        - test-deps

jobs:
  include:

# Formal Verification - Sidetrail
  - os : linux
    dist: trusty
    env: TESTS=sidetrail PART=1

  - os : linux
    dist: trusty
    env: TESTS=sidetrail PART=2

before_install:
  - source .travis/s2n_setup_env.sh

install:
  - travis_retry .travis/s2n_install_test_dependencies.sh

script:
  - .travis/s2n_travis_build.sh
  - .travis/s2n_after_travis_build.sh
